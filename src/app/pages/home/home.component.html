<div class="app-container">
  <div class="card">
    <h2>📂 Upload CSV</h2>
    <label for="file-upload" class="drop-area" (dragover)="onDragOver($event)" (drop)="onDrop($event)">
      <input type="file" id="file-upload" hidden (change)="onFileSelected($event)" accept=".csv" />
      @if (!fileName) {
        <p class="m-0">Trascina un file qui o clicca per selezionarlo</p>
      }
      @if (fileName) {
        <p class="file-name m-0">✅ {{ fileName }}</p>
      }
    </label>
    @if (loading) {
      <p class="loading">⏳ Caricamento in corso...</p>
    }
    @if (fileSize) {
      <p class="file-size">📏 Dimensione: {{ fileSize }}</p>
    }
  </div>

  @if (columns.length > 0) {
    <div class="card">
      <h3>📊 Seleziona Variabili</h3>

      <div class="field-group">
        <label>Variabili Indipendenti:</label>
        <div class="checkbox-group">
          @for (column of columns; track column) {
            <label class="checkbox-label">
              <input type="checkbox" [value]="column" (change)="toggleIndependentVar(column, $event)">
              {{ column }}
            </label>
          }
        </div>
      </div>

      <div class="field-group">
        <label>Variabile Dipendente:</label>
        <select [(ngModel)]="dependentVar">
          @for (column of columns; track column) {
            <option [value]="column">{{ column }}</option>
          }
        </select>
      </div>
    </div>
  }

  <div class="card">
    <h3>🤖 Seleziona un Modello</h3>
    <select [(ngModel)]="selectedModel">
      @for (model of models; track model) {
        <option [value]="model">{{ model }}</option>
      }
    </select>
  </div>
</div>
